<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ngRoute test</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
 <link href="http://getbootstrap.com/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
 <link href="http://getbootstrap.com/examples/dashboard/dashboard.css" rel="stylesheet">
 	<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
	<link rel="stylesheet" href="http://www.w3schools.com/lib/w3-theme-black.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    <!-- Angular Library -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.min.js"></script>
    <script src="http://getbootstrap.com/assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    	 <!--<script>
		angular.module("searchToggle",[])
		.controller("searchController",function($scope){
			$scope.searchType = "Search Team";
			$scope.setSearchT = function(){
				$scope.searchType = "Search Team";
			};
			$scope.setSearchP = function(){
				$scope.searchType = "Search Person";
			};
			$scope.setSearchE = function(){
				$scope.searchType = "Search Event";
			};
		});
		

	 </script>-->
	 <!--temporary css of search tag-->
	 <style>
		.filter-tag{
			margin-right:10px;
		}
		.filter-bar{
			padding:5px 10px 5px 5px;
			
		}
		
	 </style>
     <script>
         var app = angular.module("mainApp", ["ngRoute"]);

         app.config(function($routeProvider){
                $routeProvider.when("/",{templateUrl:"MyProfile.html"})

                .when("/MyNotifications",{templateUrl:"MyNotifications.html"})

                .when("/MyEvents/:p",{templateUrl:function($routeParams){return ("MyEvents"+$routeParams.p+".html")}, controller:"paramCtrl"})
                .when("/MyConversation/:p",{templateUrl:function($routeParams){return ("MyConversations"+$routeParams.p+".html")}, controller:"paramCtrl"});
  
                
                
});

		app.controller("searchController",function($scope){
			$scope.searchType = "Search Team";
			$scope.setSearchT = function(){
				$scope.searchType = "Search Team";
			};
			$scope.setSearchP = function(){
				$scope.searchType = "Search Person";
			};
			$scope.setSearchE = function(){
				$scope.searchType = "Search Event";
			};
		});
   

app.controller("paramCtrl", function($scope, $routeParams){
  $scope.param = $routeParams.p;
});
</script>
  </head>
  <body ng-app="mainApp">
       <nav class="navbar navbar-inverse navbar-fixed-top" >
      <div class="container-fluid">
        <div class="navbar-header">
			<a class="navbar-brand" href="#" >
				<div>
					<!--use firebase to get the user picture and user name-->
					<img alt="Brand" style = "height:30px;width:30px" src="http://home.cse.ust.hk/~hunkim/images/Sungkim2.png"/> <span>Kim Sung     </span>
					
					<!--not yet dicided-->
					<button type="button" class="btn btn-default btn-xs">Logout</button>
				</div>
			</a>
        </div>
		
        <div id="navbar" class="navbar-collapse collapse">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<!-- not yet decided -->
					<!-- get personal data and count the number of notifications in notification json-->
					<!-- ng-click to go to notification section?-->
					<a href="#"><img src = "https://raw.githubusercontent.com/o3n/teamform-seed/master/app/search/images.png" style = "width:20px;height:20px"/> <span class="badge">42<!--use angular js--></span></a>
				</li>
			</ul>
			
			
			<form class="navbar-form navbar-right">
				<label for = "search">
					<div class="dropdown" ng-controller = "searchController">
						<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" >
								{{searchType}}
							<span class="caret"></span>
						</button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
						<li><a href="#" ng-click = "setSearchT()">Search Team</a></li>
						<li><a href="#" ng-click = "setSearchP()">Search Person</a></li>
						<li><a href="#" ng-click = "setSearchE()">Search Event</a></li>
					</ul>
					</div>
				</label>
            <input name = "search" type="text" class="form-control" placeholder="Search...">
			
			<!-- use ng-click to call the search function here -->
			<button type="button" class="btn btn-default" aria-label="Left Align">
				<span class="glyphicon glyphicon-search" aria-hidden="true">
			</button>
          </form>
        
		</div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="active"><a href="#/">My Profile <span class="sr-only">(current)</span></a></li>
            		<li><a href="#" id="btn-1" data-toggle="collapse" data-target="#submenu1" aria-expanded="false">My Events</a>
                    <ul class="nav collapse" id="submenu1" role="menu" aria-labelledby="btn-1">
                    <li><a href="#MyEvents/COMP3111">COMP3111</a></li>
            
                    <li><a href="#MyEvents/COMP3511">COMP3511</a></li>
    
                    <li><a href="#MyEvents/COMP2012">COMP2012</a></li>
                    </ul>
                  </li>
 
            <li><a href="#MyNotifications">My Notifications</a></li>
           		<li><a href="#" id="btn-1" data-toggle="collapse" data-target="#submenu2" aria-expanded="false">My Conversations</a>
                    <ul class="nav collapse" id="submenu2" role="menu" aria-labelledby="btn-1">
                    <li><a href="#MyConversation/Peter">Peter</a></li>
            
                    <li><a href="#MyConversation/Jason">Jason</a></li>
             
                    <li><a href="#MyConversation/Ken">Ken</a></li>
                    </ul>
                  </li>
          </ul>
        </div>

    <ng-view></ng-view>
    </div></div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  </body>
</html>